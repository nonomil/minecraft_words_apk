// Pokemon Basic - 宝可梦基础词汇库
// 包含宝可梦系列中的基础宝可梦和简单词汇
const POKEMON_BASIC = [
  // === 经典宝可梦 ===
  {
    "word": "Pikachu",
    "standardized": "Pikachu",
    "chinese": "皮卡丘",
    "phonetic": "/ˈpiːkətʃuː/",
    "phrase": "Pikachu the electric mouse",
    "phraseTranslation": "电老鼠皮卡丘",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "电属性老鼠宝可梦",
    "special_features": "yellow_color",
    "type": "Electric",
    "imageURLs": [
      {
        "filename": "Pikachu.png",
        "url": "https://wiki.52poke.com/wiki/File:025Pikachu.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Eevee",
    "standardized": "Eevee",
    "chinese": "伊布",
    "phonetic": "/ˈiːviː/",
    "phrase": "Eevee the evolution Pokemon",
    "phraseTranslation": "进化宝可梦伊布",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "普通属性狐狸宝可梦",
    "special_features": "brown_color",
    "type": "Normal",
    "imageURLs": [
      {
        "filename": "Eevee.png",
        "url": "https://wiki.52poke.com/wiki/File:133Eevee.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Charmander",
    "standardized": "Charmander",
    "chinese": "小火龙",
    "phonetic": "/ˈtʃɑːrmændər/",
    "phrase": "Charmander the fire lizard",
    "phraseTranslation": "火蜥蜴小火龙",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "火属性蜥蜴宝可梦",
    "special_features": "orange_color",
    "type": "Fire",
    "imageURLs": [
      {
        "filename": "Charmander.png",
        "url": "https://wiki.52poke.com/wiki/File:004Charmander.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Squirtle",
    "standardized": "Squirtle",
    "chinese": "杰尼龟",
    "phonetic": "/ˈskwɜːrtəl/",
    "phrase": "Squirtle the water turtle",
    "phraseTranslation": "水龟杰尼龟",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "水属性乌龟宝可梦",
    "special_features": "blue_color",
    "type": "Water",
    "imageURLs": [
      {
        "filename": "Squirtle.png",
        "url": "https://wiki.52poke.com/wiki/File:007Squirtle.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Bulbasaur",
    "standardized": "Bulbasaur",
    "chinese": "妙蛙种子",
    "phonetic": "/ˈbʌlbəsɔːr/",
    "phrase": "Bulbasaur the grass dinosaur",
    "phraseTranslation": "草恐龙妙蛙种子",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "草属性恐龙宝可梦",
    "special_features": "green_color",
    "type": "Grass",
    "imageURLs": [
      {
        "filename": "Bulbasaur.png",
        "url": "https://wiki.52poke.com/wiki/File:001Bulbasaur.png",
        "type": "Default"
      }
    ]
  },

  // === 可爱宝可梦 ===
  {
    "word": "Jigglypuff",
    "standardized": "Jigglypuff",
    "chinese": "胖丁",
    "phonetic": "/ˈdʒɪɡlipʌf/",
    "phrase": "Jigglypuff the balloon Pokemon",
    "phraseTranslation": "气球宝可梦胖丁",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "普通属性气球宝可梦",
    "special_features": "pink_color",
    "type": "Normal",
    "imageURLs": [
      {
        "filename": "Jigglypuff.png",
        "url": "https://wiki.52poke.com/wiki/File:039Jigglypuff.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Meowth",
    "standardized": "Meowth",
    "chinese": "喵喵",
    "phonetic": "/miːaʊθ/",
    "phrase": "Meowth the cat Pokemon",
    "phraseTranslation": "猫咪宝可梦喵喵",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "普通属性猫咪宝可梦",
    "special_features": "yellow_color",
    "type": "Normal",
    "imageURLs": [
      {
        "filename": "Meowth.png",
        "url": "https://wiki.52poke.com/wiki/File:052Meowth.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Psyduck",
    "standardized": "Psyduck",
    "chinese": "可达鸭",
    "phonetic": "/ˈsaɪdʌk/",
    "phrase": "Psyduck the duck Pokemon",
    "phraseTranslation": "鸭子宝可梦可达鸭",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "水属性鸭子宝可梦",
    "special_features": "yellow_color",
    "type": "Water",
    "imageURLs": [
      {
        "filename": "Psyduck.png",
        "url": "https://wiki.52poke.com/wiki/File:054Psyduck.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Snorlax",
    "standardized": "Snorlax",
    "chinese": "卡比兽",
    "phonetic": "/ˈsnɔːrlæks/",
    "phrase": "Snorlax the sleeping Pokemon",
    "phraseTranslation": "睡觉宝可梦卡比兽",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "普通属性睡觉宝可梦",
    "special_features": "blue_color",
    "type": "Normal",
    "imageURLs": [
      {
        "filename": "Snorlax.png",
        "url": "https://wiki.52poke.com/wiki/File:143Snorlax.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Mew",
    "standardized": "Mew",
    "chinese": "梦幻",
    "phonetic": "/mjuː/",
    "phrase": "Mew the mythical Pokemon",
    "phraseTranslation": "神话宝可梦梦幻",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "超能力属性神话宝可梦",
    "special_features": "pink_color",
    "type": "Psychic",
    "imageURLs": [
      {
        "filename": "Mew.png",
        "url": "https://wiki.52poke.com/wiki/File:151Mew.png",
        "type": "Default"
      }
    ]
  },

  // === 更多经典宝可梦 ===
  {
    "word": "Charizard",
    "standardized": "Charizard",
    "chinese": "喷火龙",
    "phonetic": "/ˈtʃærɪzɑrd/",
    "phrase": "Charizard the fire dragon",
    "phraseTranslation": "火龙喷火龙",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "火属性飞龙宝可梦",
    "special_features": "orange_color",
    "type": "Fire",
    "imageURLs": [
      {
        "filename": "Charizard.png",
        "url": "https://wiki.52poke.com/wiki/File:006Charizard.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Blastoise",
    "standardized": "Blastoise",
    "chinese": "水箭龟",
    "phonetic": "/ˈblæstɔɪz/",
    "phrase": "Blastoise the water turtle",
    "phraseTranslation": "水龟水箭龟",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "水属性乌龟宝可梦",
    "special_features": "blue_color",
    "type": "Water",
    "imageURLs": [
      {
        "filename": "Blastoise.png",
        "url": "https://wiki.52poke.com/wiki/File:009Blastoise.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Venusaur",
    "standardized": "Venusaur",
    "chinese": "妙蛙花",
    "phonetic": "/ˈvenəsɔːr/",
    "phrase": "Venusaur the grass dinosaur",
    "phraseTranslation": "草恐龙妙蛙花",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "草属性恐龙宝可梦",
    "special_features": "green_color",
    "type": "Grass",
    "imageURLs": [
      {
        "filename": "Venusaur.png",
        "url": "https://wiki.52poke.com/wiki/File:003Venusaur.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Lucario",
    "standardized": "Lucario",
    "chinese": "路卡利欧",
    "phonetic": "/luˈkɑrioʊ/",
    "phrase": "Lucario the fighting Pokemon",
    "phraseTranslation": "格斗宝可梦路卡利欧",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "格斗属性狼宝可梦",
    "special_features": "blue_color",
    "type": "Fighting",
    "imageURLs": [
      {
        "filename": "Lucario.png",
        "url": "https://wiki.52poke.com/wiki/File:448Lucario.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Gardevoir",
    "standardized": "Gardevoir",
    "chinese": "沙奈朵",
    "phonetic": "/ɡɑrdˈvwɑr/",
    "phrase": "Gardevoir the psychic Pokemon",
    "phraseTranslation": "超能力宝可梦沙奈朵",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "超能力属性人形宝可梦",
    "special_features": "white_color",
    "type": "Psychic",
    "imageURLs": [
      {
        "filename": "Gardevoir.png",
        "url": "https://wiki.52poke.com/wiki/File:282Gardevoir.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Garchomp",
    "standardized": "Garchomp",
    "chinese": "烈咬陆鲨",
    "phonetic": "/ˈɡɑrtʃɑmp/",
    "phrase": "Garchomp the dragon shark",
    "phraseTranslation": "龙鲨烈咬陆鲨",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "龙属性鲨鱼宝可梦",
    "special_features": "blue_color",
    "type": "Dragon",
    "imageURLs": [
      {
        "filename": "Garchomp.png",
        "url": "https://wiki.52poke.com/wiki/File:445Garchomp.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Dragonite",
    "standardized": "Dragonite",
    "chinese": "快龙",
    "phonetic": "/ˈdræɡənaɪt/",
    "phrase": "Dragonite the dragon Pokemon",
    "phraseTranslation": "龙宝可梦快龙",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "龙属性飞龙宝可梦",
    "special_features": "orange_color",
    "type": "Dragon",
    "imageURLs": [
      {
        "filename": "Dragonite.png",
        "url": "https://wiki.52poke.com/wiki/File:149Dragonite.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Gyarados",
    "standardized": "Gyarados",
    "chinese": "暴鲤龙",
    "phonetic": "/ˈɡaɪərədoʊz/",
    "phrase": "Gyarados the water dragon",
    "phraseTranslation": "水龙暴鲤龙",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "水属性飞龙宝可梦",
    "special_features": "blue_color",
    "type": "Water",
    "imageURLs": [
      {
        "filename": "Gyarados.png",
        "url": "https://wiki.52poke.com/wiki/File:130Gyarados.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Alakazam",
    "standardized": "Alakazam",
    "chinese": "胡地",
    "phonetic": "/ˌæləˈkæzæm/",
    "phrase": "Alakazam the psychic Pokemon",
    "phraseTranslation": "超能力宝可梦胡地",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "超能力属性人形宝可梦",
    "special_features": "yellow_color",
    "type": "Psychic",
    "imageURLs": [
      {
        "filename": "Alakazam.png",
        "url": "https://wiki.52poke.com/wiki/File:065Alakazam.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Machamp",
    "standardized": "Machamp",
    "chinese": "怪力",
    "phonetic": "/ˈmætʃæmp/",
    "phrase": "Machamp the fighting Pokemon",
    "phraseTranslation": "格斗宝可梦怪力",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "格斗属性人形宝可梦",
    "special_features": "blue_color",
    "type": "Fighting",
    "imageURLs": [
      {
        "filename": "Machamp.png",
        "url": "https://wiki.52poke.com/wiki/File:068Machamp.png",
        "type": "Default"
      }
    ]
  },

  // === 可爱宝可梦 ===
  {
    "word": "Togepi",
    "standardized": "Togepi",
    "chinese": "波克比",
    "phonetic": "/ˈtoʊɡəpi/",
    "phrase": "Togepi the egg Pokemon",
    "phraseTranslation": "蛋宝可梦波克比",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "普通属性蛋宝可梦",
    "special_features": "white_color",
    "type": "Normal",
    "imageURLs": [
      {
        "filename": "Togepi.png",
        "url": "https://wiki.52poke.com/wiki/File:175Togepi.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Clefairy",
    "standardized": "Clefairy",
    "chinese": "皮皮",
    "phonetic": "/ˈkleferi/",
    "phrase": "Clefairy the fairy Pokemon",
    "phraseTranslation": "妖精宝可梦皮皮",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "妖精属性人形宝可梦",
    "special_features": "pink_color",
    "type": "Fairy",
    "imageURLs": [
      {
        "filename": "Clefairy.png",
        "url": "https://wiki.52poke.com/wiki/File:035Clefairy.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Squirtle",
    "standardized": "Squirtle",
    "chinese": "杰尼龟",
    "phonetic": "/ˈskwɜːrtəl/",
    "phrase": "Squirtle the water turtle",
    "phraseTranslation": "水龟杰尼龟",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "水属性乌龟宝可梦",
    "special_features": "blue_color",
    "type": "Water",
    "imageURLs": [
      {
        "filename": "Squirtle.png",
        "url": "https://wiki.52poke.com/wiki/File:007Squirtle.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Charmander",
    "standardized": "Charmander",
    "chinese": "小火龙",
    "phonetic": "/ˈtʃɑːrmændər/",
    "phrase": "Charmander the fire lizard",
    "phraseTranslation": "火蜥蜴小火龙",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "火属性蜥蜴宝可梦",
    "special_features": "orange_color",
    "type": "Fire",
    "imageURLs": [
      {
        "filename": "Charmander.png",
        "url": "https://wiki.52poke.com/wiki/File:004Charmander.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Bulbasaur",
    "standardized": "Bulbasaur",
    "chinese": "妙蛙种子",
    "phonetic": "/ˈbʌlbəsɔːr/",
    "phrase": "Bulbasaur the grass dinosaur",
    "phraseTranslation": "草恐龙妙蛙种子",
    "difficulty": "basic",
    "category": "pokemon",
    "age_group": "3-6",
    "game_source": "Pokemon",
    "character_context": "草属性恐龙宝可梦",
    "special_features": "green_color",
    "type": "Grass",
    "imageURLs": [
      {
        "filename": "Bulbasaur.png",
        "url": "https://wiki.52poke.com/wiki/File:001Bulbasaur.png",
        "type": "Default"
      }
    ]
  }
];

// 基于 52poke 的 File:前缀解析出全国图鉴编号，统一替换为 PokeAPI 官方稳定直链
(function enhancePokemonImageURLsForBasic() {
  try {
    const OFFICIAL_BASE = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/";
    const DREAM_BASE = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/dream-world/";
    const FILE_RE = /File:(\d{3,4})[^.]*\.(png|jpg|svg)/i;

    function enhance(list) {
      if (!Array.isArray(list)) return;
      list.forEach(item => {
        if (!item || !Array.isArray(item.imageURLs)) return;
        // 尝试从第一条链接中解析全国图鉴编号
        let firstEntry = item.imageURLs[0];
        let firstUrl = firstEntry && typeof firstEntry.url === 'string' ? firstEntry.url : (typeof firstEntry === 'string' ? firstEntry : null);
        let id = null;
        if (firstUrl) {
          const m = firstUrl.match(FILE_RE);
          if (m) {
            id = parseInt(m[1], 10);
          }
        }
        if (!id || isNaN(id)) return; // 无法解析则跳过

        const newList = [];
        // 优先：官方原画 PNG
        newList.push({ filename: `${id}.png`, url: `${OFFICIAL_BASE}${id}.png`, type: "OfficialArtwork" });
        // 其次：Dream World SVG（部分编号可能缺失，作为候选）
        newList.push({ filename: `${id}.svg`, url: `${DREAM_BASE}${id}.svg`, type: "DreamWorld" });

        const seen = new Set(newList.map(x => x.url));
        // 保留原有链接作为兜底（去重）
        item.imageURLs.forEach(u => {
          const uObj = (u && typeof u === 'object') ? u : { url: String(u || ""), filename: "", type: "Legacy" };
          if (uObj.url && !seen.has(uObj.url)) {
            newList.push({ filename: uObj.filename || "", url: uObj.url, type: uObj.type || "Legacy" });
            seen.add(uObj.url);
          }
        });
        item.imageURLs = newList;
      });
    }

    enhance(POKEMON_BASIC);
  } catch (e) {
    // 静默失败，避免影响页面其它功能
    if (typeof console !== 'undefined' && console.warn) {
      console.warn('Enhance Pokemon image URLs (basic) failed:', e);
    }
  }
})();

// 去重：按 standardized/word 保留首个出现，避免重复词条
(function dedupPokemonBasic(){
  try {
    if (!Array.isArray(POKEMON_BASIC)) return;
    const seen = new Set();
    const newList = [];
    for (const item of POKEMON_BASIC) {
      const key = String((item && (item.standardized || item.word)) || '').trim().toLowerCase();
      if (!key) continue;
      if (seen.has(key)) continue;
      seen.add(key);
      newList.push(item);
    }
    // 原地替换，保持引用不变
    POKEMON_BASIC.length = 0;
    Array.prototype.push.apply(POKEMON_BASIC, newList);
  } catch (e) {
    if (typeof console !== 'undefined' && console.warn) {
      console.warn('Dedup Pokemon basic failed:', e);
    }
  }
})();

// Export vocabulary data
if (typeof module !== 'undefined' && module.exports) {
  module.exports = POKEMON_BASIC;
} else if (typeof window !== 'undefined') {
  window.POKEMON_BASIC = POKEMON_BASIC;
}
