// Animal Crossing Characters - 动物森友会角色词汇库
// 包含动物森友会系列中的主要角色和村民
const ANIMAL_CROSSING_CHARACTERS = [
  // === 主要NPC角色 ===
  {
    "word": "Tom Nook",
    "standardized": "Tom Nook",
    "chinese": "狸猫",
    "phonetic": "/tɑm nʊk/",
    "phrase": "Tom Nook's shop",
    "phraseTranslation": "狸猫的商店",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的商店老板",
    "imageURLs": [
      {
        "filename": "Tom_Nook.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Tom_Nook_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Isabelle",
    "standardized": "Isabelle",
    "chinese": "西施惠",
    "phonetic": "/ˈɪzəbəl/",
    "phrase": "Isabelle's announcement",
    "phraseTranslation": "西施惠的公告",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的秘书",
    "imageURLs": [
      {
        "filename": "Isabelle.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Isabelle_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Blathers",
    "standardized": "Blathers",
    "chinese": "傅达",
    "phonetic": "/ˈblæðərz/",
    "phrase": "Blathers the owl",
    "phraseTranslation": "猫头鹰傅达",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的博物馆馆长",
    "imageURLs": [
      {
        "filename": "Blathers.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Blathers_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Celeste",
    "standardized": "Celeste",
    "chinese": "傅珂",
    "phonetic": "/səˈlest/",
    "phrase": "Celeste the owl",
    "phraseTranslation": "猫头鹰傅珂",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的天文台管理员",
    "imageURLs": [
      {
        "filename": "Celeste.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Celeste_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "K.K. Slider",
    "standardized": "K.K. Slider",
    "chinese": "K.K.",
    "phonetic": "/keɪ keɪ ˈslaɪdər/",
    "phrase": "K.K. Slider's concert",
    "phraseTranslation": "K.K.的演唱会",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的音乐家",
    "imageURLs": [
      {
        "filename": "KK_Slider.png",
        "url": "https://twemoji.maxcdn.com/v/latest/svg/1f3b5.svg",
        "type": "Default"
      }
    ]
  },

  // === 可爱村民角色 ===
  {
    "word": "Marshall",
    "standardized": "Marshall",
    "chinese": "小润",
    "phonetic": "/ˈmɑːrʃəl/",
    "phrase": "Marshall the squirrel",
    "phraseTranslation": "松鼠小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱松鼠村民",
    "imageURLs": [
      {
        "filename": "Marshall.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Marshall_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Raymond",
    "standardized": "Raymond",
    "chinese": "杰克",
    "phonetic": "/ˈreɪmənd/",
    "phrase": "Raymond the cat",
    "phraseTranslation": "猫咪杰克",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的帅气猫咪村民",
    "imageURLs": [
      {
        "filename": "Raymond.png",
        "url": "https://animalcrossing.fandom.com/wiki/Special:FilePath/Raymond_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Audie",
    "standardized": "Audie",
    "chinese": "小润",
    "phonetic": "/ˈɔːdi/",
    "phrase": "Audie the wolf",
    "phraseTranslation": "狼小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的活泼狼村民",
    "imageURLs": [
      {
        "filename": "Audie.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Audie_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Dom",
    "standardized": "Dom",
    "chinese": "小润",
    "phonetic": "/dɑm/",
    "phrase": "Dom the sheep",
    "phraseTranslation": "绵羊小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的运动型绵羊村民",
    "imageURLs": [
      {
        "filename": "Dom.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Dom_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Judy",
    "standardized": "Judy",
    "chinese": "小润",
    "phonetic": "/ˈdʒudi/",
    "phrase": "Judy the cub",
    "phraseTranslation": "小熊小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱小熊村民",
    "imageURLs": [
      {
        "filename": "Judy.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Judy_NH.png",
        "type": "Default"
      }
    ]
  },

  // === 更多可爱村民 ===
  {
    "word": "Merengue",
    "standardized": "Merengue",
    "chinese": "小润",
    "phonetic": "/məˈreɪŋɡeɪ/",
    "phrase": "Merengue the rhino",
    "phraseTranslation": "犀牛小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱犀牛村民",
    "imageURLs": [
      {
        "filename": "Merengue.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Merengue_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Lolly",
    "standardized": "Lolly",
    "chinese": "小润",
    "phonetic": "/ˈlɑːli/",
    "phrase": "Lolly the cat",
    "phraseTranslation": "猫咪小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱猫咪村民",
    "imageURLs": [
      {
        "filename": "Lolly.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Lolly_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Stitches",
    "standardized": "Stitches",
    "chinese": "小润",
    "phonetic": "/ˈstɪtʃɪz/",
    "phrase": "Stitches the bear",
    "phraseTranslation": "小熊小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱小熊村民",
    "imageURLs": [
      {
        "filename": "Stitches.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Stitches_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Beau",
    "standardized": "Beau",
    "chinese": "小润",
    "phonetic": "/boʊ/",
    "phrase": "Beau the deer",
    "phraseTranslation": "鹿小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱鹿村民",
    "imageURLs": [
      {
        "filename": "Beau.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Beau_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Diana",
    "standardized": "Diana",
    "chinese": "小润",
    "phonetic": "/daɪˈænə/",
    "phrase": "Diana the deer",
    "phraseTranslation": "鹿小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的优雅鹿村民",
    "imageURLs": [
      {
        "filename": "Diana.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Diana_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Lucky",
    "standardized": "Lucky",
    "chinese": "小润",
    "phonetic": "/ˈlʌki/",
    "phrase": "Lucky the dog",
    "phraseTranslation": "狗狗小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱狗狗村民",
    "imageURLs": [
      {
        "filename": "Lucky.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Lucky_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Ankha",
    "standardized": "Ankha",
    "chinese": "小润",
    "phonetic": "/ˈæŋkə/",
    "phrase": "Ankha the cat",
    "phraseTranslation": "猫咪小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的埃及风格猫咪村民",
    "imageURLs": [
      {
        "filename": "Ankha.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Ankha_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Coco",
    "standardized": "Coco",
    "chinese": "小润",
    "phonetic": "/ˈkoʊkoʊ/",
    "phrase": "Coco the rabbit",
    "phraseTranslation": "兔子小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的独特兔子村民",
    "imageURLs": [
      {
        "filename": "Coco.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Coco_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Zucker",
    "standardized": "Zucker",
    "chinese": "小润",
    "phonetic": "/ˈzʌkər/",
    "phrase": "Zucker the octopus",
    "phraseTranslation": "章鱼小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱章鱼村民",
    "imageURLs": [
      {
        "filename": "Zucker.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Zucker_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Marina",
    "standardized": "Marina",
    "chinese": "小润",
    "phonetic": "/məˈriːnə/",
    "phrase": "Marina the octopus",
    "phraseTranslation": "章鱼小润",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的可爱章鱼村民",
    "imageURLs": [
      {
        "filename": "Marina.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Marina_NH.png",
        "type": "Default"
      }
    ]
  },

  // === 特殊NPC角色 ===
  {
    "word": "Gulliver",
    "standardized": "Gulliver",
    "chinese": "海鸥",
    "phonetic": "/ˈɡʌlɪvər/",
    "phrase": "Gulliver the seagull",
    "phraseTranslation": "海鸥海鸥",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的旅行海鸥",
    "imageURLs": [
      {
        "filename": "Gulliver.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Gulliver_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Sahara",
    "standardized": "Sahara",
    "chinese": "骆驼",
    "phonetic": "/səˈhærə/",
    "phrase": "Sahara the camel",
    "phraseTranslation": "骆驼骆驼",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的地毯商人",
    "imageURLs": [
      {
        "filename": "Sahara.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Sahara_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "Redd",
    "standardized": "Redd",
    "chinese": "狐利",
    "phonetic": "/red/",
    "phrase": "Redd the fox",
    "phraseTranslation": "狐狸狐利",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的艺术品商人",
    "imageURLs": [
      {
        "filename": "Redd.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Redd_NH.png",
        "type": "Default"
      }
    ]
  },
  {
];

// Export vocabulary data
if (typeof module !== 'undefined' && module.exports) {
  module.exports = ANIMAL_CROSSING_CHARACTERS;
} else if (typeof window !== 'undefined') {
  window.ANIMAL_CROSSING_CHARACTERS = ANIMAL_CROSSING_CHARACTERS;
}


// Utility to normalize Animal Crossing Fandom image URLs into direct file paths
(function normalizeACFandomImageURLs(list) {
  if (!Array.isArray(list)) return;
  const base = 'https://animalcrossing.fandom.com/wiki/';
  const buildCandidates = (url) => {
    try {
      if (typeof url !== 'string') return [];
      const m = url.match(/\/wiki\/File:([^?#]+)/i);
      if (!m) return [];
      const fileName = decodeURIComponent(m[1]);
      const encoded = encodeURIComponent(fileName);
      return [
        `${base}Special:FilePath/${encoded}`,
        `${base}Special:Redirect/file/${encoded}`
      ];
    } catch (e) {
      return [];
    }
  };
  for (const item of list) {
    if (!item || !Array.isArray(item.imageURLs)) continue;
    const newUrls = [];
    "word": "Flick",
    "standardized": "Flick",
    "chinese": "龙克斯",
    "phonetic": "/flɪk/",
    "phrase": "Flick the chameleon",
    "phraseTranslation": "变色龙龙克斯",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的昆虫专家",
    "imageURLs": [
      {
        "filename": "Flick.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:Flick_NH.png",
        "type": "Default"
      }
    ]
  },
  {
    "word": "C.J.",
    "standardized": "C.J.",
    "chinese": "俞司廷",
    "phonetic": "/siː dʒeɪ/",
    "phrase": "C.J. the beaver",
    "phraseTranslation": "海狸俞司廷",
    "difficulty": "basic",
    "category": "character",
    "age_group": "3-6",
    "game_source": "Animal Crossing",
    "character_context": "动物森友会中的钓鱼专家",
    "imageURLs": [
      {
        "filename": "CJ.png",
        "url": "https://animalcrossing.fandom.com/wiki/File:CJ_NH.png",
        "type": "Default"
      }
    ]
  }
    const seen = new Set();
    for (const obj of item.imageURLs) {
      if (obj && obj.url) {
        const candidates = buildCandidates(obj.url);
        for (const cand of candidates) {
          if (!seen.has(cand)) {
            newUrls.push({ url: cand, type: 'Raw' });
            seen.add(cand);
          }
        }
        if (!seen.has(obj.url)) {
          newUrls.push(obj);
          seen.add(obj.url);
        }
      }
    }
    if (newUrls.length > 0) {
      item.imageURLs = newUrls;
    }
  }
})(ANIMAL_CROSSING_CHARACTERS);
